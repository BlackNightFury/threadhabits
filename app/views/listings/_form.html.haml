- content_for :javascript do
  $location = new Location();
  $location.initializeLocation();
  $location.setMap();

.list-group.categories
  %a.list-group-item.active{:href => listings_path}
    = @category.name
= form_for @listing, html: { class: "listing-form" }  do |f|
  = validation_errors_notifications(@listing)
  = f.hidden_field :category_id, value: @category.id
  .form-group
    = f.label :name, "Title"
    %br/
    = f.email_field :name, autofocus: true, class: "form-control input-lg"
  .form-group
    = f.label :description, "Detailed Description"
    %br/
    = f.text_area :description, class: "form-control input-lg"
  .form-group
    = f.label :product_type
    %br/
    = select_tag :product, options_for_select(@products.map{ |v| [v.name, v.id] }, params[:product]), class: "form-control input-lg product-type-listing-input", prompt: "--Select Product Type--"
  .product-size
    .form-group
      -# Size field will be output
      - unless f.object.new_record?
        = yield f
  .form-group
    = f.label :price
    %br/
    = f.number_field :price, class: "form-control input-lg"
  .form-group
    = f.label :condition
    %br/
    = f.select :condition,  Listing::CONDITIONS.map{ |v| v }, { include_blank: "Select Condition" }, class: "form-control input-lg"

  .form-group
    = f.label :comapny, "Company/Designers"
    %br/
    = f.select :company_id,  @designers.map{ |v| [v.name, v.id] }, { include_blank: "Select Company/Designers" }, class: "form-control input-lg"

  .form-group
    = f.fields_for :address do |n|
      = n.label :location
      = n.text_field :location, class: "form-control input-lg", id: "location_input"
      = n.hidden_field :latitude, class: "form-control input-lg", id: "latitude_input"
      = n.hidden_field :longitude, class: "form-control input-lg", id: "longitude_input"
      = n.hidden_field :place_id, class: "form-control input-lg", id: "place_id_input"
      #google-maps

  .form-actions
    = f.submit "Submit", class: "btn btn-primary"
